<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Study Plan â€“ Login</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
</head>

<body class="d-flex justify-content-center align-items-center vh-100">

<div class="card shadow p-4 login-card" style="width:400px;">
    <h4 class="text-center mb-3">Login</h4>

    <form id="loginForm">
        <div class="mb-3">
            <label class="form-label"><b>Email</b></label>
            <input type="email" id="email" class="form-control" placeholder="Enter Email" required>
        </div>

        <div class="mb-3">
            <label class="form-label"><b>Password</b></label>
            <input type="password" id="password" class="form-control" placeholder="Enter Password" required>
        </div>

        <p id="errorMsg" class="text-danger small"></p>

        <button type="submit" class="btn btn-success w-100 mb-2">Login</button>
        <a href="register.html" class="btn btn-outline-primary w-100">Register</a>

        <div class="text-end mb-3">
            <a href="forgotpassword.html" class="small">Forgot Password?</a>
        </div>
    </form>
</div>

<script>

document.addEventListener("DOMContentLoaded", function(){

    document.getElementById("loginForm").addEventListener("submit", function (e) {
    e.preventDefault();

    let email = document.getElementById("email").value.trim();
    let pass = document.getElementById("password").value;

    const users = JSON.parse(localStorage.getItem("users")) || [];

    const matchedUser = users.find(u => u.email === email && u.password === pass);

    if (matchedUser) {

        localStorage.setItem("loggedInUser", JSON.stringify(matchedUser));
        window.location.href = "dashboard.html"; 
    } else {
        document.getElementById("errorMsg").innerText = "Invalid email or password";
    }
});


});
</script>

</body>
</html>